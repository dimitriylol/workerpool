{"version":3,"sources":["./dist/workerpool.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_11__","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","environment","pool","script","options","worker","methods","add","Promise","platform","isMainThread","cpus","Window","WorkerGlobalScope","process","connected","self","navigator","hardwareConcurrency","length","Pool","workers","tasks","forkArgs","forkOpts","debugPortStart","nodeWorker","validateMaxWorkers","maxWorkers","Math","max","minWorkers","validateMinWorkers","_ensureMinWorkers","_boundNext","_next","bind","WorkerHandler","ensureWorkerThreads","isNumber","isInteger","TypeError","value","round","prototype","_exec","method","params","msgCallback","Array","isArray","resolver","defer","task","timeout","push","originalTimeout","promise","delay","indexOf","String","execWithMsg","arguments","exec","proxy","Error","then","forEach","slice","_getWorker","me","shift","pending","catch","terminated","_removeWorker","i","busy","debugPort","terminate","_removeWorkerFromList","index","splice","force","f","removeWorker","promises","termPromise","terminateAndNotify","all","clear","stats","totalWorkers","busyWorkers","filter","idleWorkers","pendingTasks","activeTasks","handler","parent","SyntaxError","_onSuccess","_onFail","resolved","rejected","_process","onSuccess","onFail","resolve","reject","s","_then","_resolve","result","fn","_reject","error","cancel","CancellationError","timer","setTimeout","TimeoutError","always","clearTimeout","callback","res","message","stack","remaining","results","constructor","name","WorkerThreads","tryRequire","moduleName","code","getDefaultWorker","Blob","window","URL","createObjectURL","blob","type","__dirname","setupBrowserWorker","Worker","isBrowserWorker","on","event","addEventListener","data","send","postMessage","setupWorkerThreadWorker","stdout","stderr","isWorkerThread","kill","disconnect","setupProcessWorker","child_process","fork","isChildProcess","resolveForkOptions","opts","processExecArgv","execArgv","join","inspectorActive","debugBrk","assign","concat","objectToError","obj","temp","props","Object","keys","_options","onError","terminating","terminationHandler","processing","undefined","create","dispatchQueuedRequests","requestQueue","ready","response","msg","lastId","request","_tryRequire","_setupProcessWorker","_setupBrowserWorker","_setupWorkerThreadWorker","toObject","val","getOwnPropertySymbols","hasOwnProperty","propIsEnumerable","propertyIsEnumerable","test1","getOwnPropertyNames","test2","fromCharCode","map","n","test3","split","letter","err","target","source","from","symbols","to","key","webpackContext","req","webpackContextResolve","./Pool","./Pool.js","./Promise","./Promise.js","./WorkerHandler","./WorkerHandler.js","./environment","./environment.js","./generated/embeddedWorker","./generated/embeddedWorker.js","./header","./header.js","./worker","./worker.js","convertError","reduce","product","defineProperty","enumerable","isPromise","e","parentPort","run","args","eval","apply","register"],"mappings":"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","file":"workerpool"}